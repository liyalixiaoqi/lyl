var E=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports);var f=(e,o,t)=>new Promise((a,i)=>{var d=n=>{try{_(t.next(n))}catch(c){i(c)}},s=n=>{try{_(t.throw(n))}catch(c){i(c)}},_=n=>n.done?a(n.value):Promise.resolve(n.value).then(d,s);_((t=t.apply(e,o)).next())});import{aR as v,aE as O,x as S,T,aT as r,aU as I,aV as A,aW as l,aX as w}from"./vendor-2eaabd.js";import{a as L,u as y,p as V}from"./common-471b98.js";import"./element-plus-08231d.js";var q=E(P=>{const D={};function j(e,o){const t=O("router-view");return S(),T(t)}const H=v(D,[["render",j],["__scopeId","data-v-a604a3bf"]]),k={path:"/about",name:"About",component:()=>r(()=>import("./index-bcaa47.js"),["static/js/index-bcaa47.js","static/js/vendor-2eaabd.js","static/css/vendor-771398e6.css","static/css/index-f83d57d3.css"]),meta:{title:"关于"}},B=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"})),C={path:"/home",name:"Home",component:()=>r(()=>import("./index-3f024f.js"),["static/js/index-3f024f.js","static/js/element-plus-08231d.js","static/js/vendor-2eaabd.js","static/css/vendor-771398e6.css","static/css/element-plus-1f56a2e4.css","static/js/common-471b98.js","static/css/index-6458070a.css"]),redirect:"/",meta:{title:"首页"},children:[{path:"/",name:"HomePage",component:()=>r(()=>import("./index-f27d40.js"),["static/js/index-f27d40.js","static/js/element-plus-08231d.js","static/js/vendor-2eaabd.js","static/css/vendor-771398e6.css","static/css/element-plus-1f56a2e4.css","static/css/index-15953df8.css"]),meta:{title:"Home组件",isShow:!0,prarentRoute:"Home"}},{path:"/prarent",name:"ParentPage",meta:{title:"父组件",isShow:!0,prarentRoute:"Home"},children:[{path:"/prarent/child",name:"Child1",component:()=>r(()=>import("./index-bb6335.js").then(e=>e.i),["static/js/index-bb6335.js","static/js/vendor-2eaabd.js","static/css/vendor-771398e6.css","static/js/element-plus-08231d.js","static/css/element-plus-1f56a2e4.css","static/js/common-471b98.js"]),meta:{title:"子组件",isShow:!0,prarentRoute:"ParentPage"},children:[]},{path:"/prarent/child2",name:"Child2",component:()=>r(()=>import("./index-bb6335.js").then(e=>e.i),["static/js/index-bb6335.js","static/js/vendor-2eaabd.js","static/css/vendor-771398e6.css","static/js/element-plus-08231d.js","static/css/element-plus-1f56a2e4.css","static/js/common-471b98.js"]),meta:{title:"子组件2",isShow:!0,prarentRoute:"ParentPage"},children:[]},{path:"/prarent/child3",name:"Child3",component:()=>r(()=>import("./index-bb6335.js").then(e=>e.i),["static/js/index-bb6335.js","static/js/vendor-2eaabd.js","static/css/vendor-771398e6.css","static/js/element-plus-08231d.js","static/css/element-plus-1f56a2e4.css","static/js/common-471b98.js"]),meta:{title:"子组件3",isShow:!0,prarentRoute:"ParentPage"},children:[]}]},{path:"/project",name:"Project",component:()=>r(()=>import("./index-b0bec1.js"),["static/js/index-b0bec1.js","static/js/element-plus-08231d.js","static/js/vendor-2eaabd.js","static/css/vendor-771398e6.css","static/css/element-plus-1f56a2e4.css","static/js/common-471b98.js","static/css/index-e6691012.css"]),meta:{title:"项目介绍",isShow:!0,prarentRoute:"Home"},children:[]},{path:"/user",name:"User",component:()=>r(()=>import("./index-af369f.js"),["static/js/index-af369f.js","static/js/element-plus-08231d.js","static/js/vendor-2eaabd.js","static/css/vendor-771398e6.css","static/css/element-plus-1f56a2e4.css","static/js/shared/index-6/index-7-f138c9.js","static/js/common-471b98.js","static/css/index-94411a25.css"]),meta:{title:"用户列表",isShow:!0,prarentRoute:"Home"},children:[]},{path:"/role",name:"Role",component:()=>r(()=>import("./index-04f478.js"),["static/js/index-04f478.js","static/js/element-plus-08231d.js","static/js/vendor-2eaabd.js","static/css/vendor-771398e6.css","static/css/element-plus-1f56a2e4.css","static/js/shared/index-6/index-7-f138c9.js","static/js/common-471b98.js","static/css/index-82a5b4ac.css"]),meta:{title:"角色列表",isShow:!0,prarentRoute:"Home"},children:[]},{path:"/permission",name:"Permission",component:()=>r(()=>import("./index-bb6335.js").then(e=>e.a),["static/js/index-bb6335.js","static/js/vendor-2eaabd.js","static/css/vendor-771398e6.css","static/js/element-plus-08231d.js","static/css/element-plus-1f56a2e4.css","static/js/common-471b98.js"]),meta:{title:"权限列表",isShow:!0,prarentRoute:"Home"},children:[]}]},z=Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"})),M={path:"/login",name:"LoginPage",component:()=>r(()=>import("./index-7607b9.js"),["static/js/index-7607b9.js","static/js/element-plus-08231d.js","static/js/vendor-2eaabd.js","static/css/vendor-771398e6.css","static/css/element-plus-1f56a2e4.css","static/js/common-471b98.js","static/css/index-5d58de3f.css"]),meta:{role:["common","admin"]},children:[]},U=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));function W(e,o){const t=[],a=new Set;function i(s){var c;if(a.has(s))return!1;function _(b){for(const p of b){if(p.name===s)return p;if(p.children){const h=_(p.children);if(h)return h}}return null}const n=_(o);return n?(a.add(s),(c=n.meta)!=null&&c.prarentRoute&&i(n.meta.prarentRoute),t.push(s),!0):!1}return i(e)?t:[]}const g=Object.assign({"./modules/about.ts":B,"./modules/home.ts":z,"./modules/login.ts":U}),R=[];Object.keys(g).forEach(e=>{R.push(g[e].default)});const u=I({history:A(),routes:R}),x=["/login"],X=L(),$=e=>{const o=u.getRoutes().find(a=>a.path===e),t=W(o==null?void 0:o.name,u.options.routes);console.log(u.options.routes,"parentRoutes"),X.setParentRoute(t)};u.beforeEach((e,o,t)=>f(P,null,function*(){console.log(localStorage.getItem("userInfo"),"localStorage.getItem('userInfo')");const a=y();(a==null?void 0:a.userToken)?e.path==="/login"?t({path:"/home"}):(l.start(),t()):x.includes(e.path)?t():(t(`/login?redirect=${e.path}`),l.done()),$(e.path)}));u.afterEach(e=>{l.done()});const m=w(H);m.use(V);m.use(u);m.mount("#app")});export default q();
