var m=(s,n,e)=>new Promise((d,p)=>{var i=t=>{try{r(e.next(t))}catch(a){p(a)}},c=t=>{try{r(e.throw(t))}catch(a){p(a)}},r=t=>t.done?d(t.value):Promise.resolve(t.value).then(i,c);r((e=e.apply(s,n)).next())});import{e as x,g as z,i as b,j as C,m as P}from"./element-plus-91bf7a.js";import{g as S}from"./common-db7f90.js";import{v as j,r as y,a2 as V,F as w,G as E,e as U,x as k,y as B,C as N,W as o,U as _,ai as I,aR as T}from"./vendor-5d9d0e.js";const D=s=>S("/project",s,{}),L={class:"project-container"},O={class:"project-header"},A=j({__name:"index",setup(s){const n=y([]),e=V({date:"",name:"",currentPage:1,pageSize:10,total:0});w(()=>{d()});const d=()=>m(this,null,function*(){try{const t=yield D();n.value=t,e.total=t.length}catch(t){console.log(t)}});E([()=>e.date,()=>e.name],()=>{!e.date&&!e.name?d():r()});const p=U(()=>n.value.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize)),i=t=>{e.pageSize=t},c=t=>{e.currentPage=t},r=()=>{let t=[];e.date||e.name?(e.date&&(t=n.value.filter(a=>a.date.indexOf(e.date)!==-1)),e.name&&(t=n.value.filter(a=>a.name.indexOf(e.name)!==-1))):t=n.value,n.value=t,e.currentPage=1,e.total=t.length};return(t,a)=>{const g=x,f=z,u=b,v=C,h=P;return k(),B("div",L,[N("div",O,[o(g,{modelValue:e.date,"onUpdate:modelValue":a[0]||(a[0]=l=>e.date=l),placeholder:"请输入项目时间",class:"project-input"},null,8,["modelValue"]),o(g,{modelValue:e.name,"onUpdate:modelValue":a[1]||(a[1]=l=>e.name=l),placeholder:"请输入项目名称",class:"project-input"},null,8,["modelValue"]),o(f,{type:"primary",onClick:r},{default:_(()=>a[4]||(a[4]=[I("搜索")])),_:1,__:[4]})]),o(v,{data:p.value,style:{width:"100%"}},{default:_(()=>[o(u,{prop:"date",label:"Date",width:"180"}),o(u,{prop:"name",label:"Name",width:"180"}),o(u,{prop:"address",label:"Address"})]),_:1},8,["data"]),o(h,{class:"pagination","current-page":e.currentPage,"onUpdate:currentPage":a[2]||(a[2]=l=>e.currentPage=l),"page-size":e.pageSize,"onUpdate:pageSize":a[3]||(a[3]=l=>e.pageSize=l),"page-sizes":[10,20,30,40],background:"",layout:"prev, pager, next, total",total:e.total,onSizeChange:i,onCurrentChange:c},null,8,["current-page","page-size","total"])])}}});const W=T(A,[["__scopeId","data-v-b94072fd"]]);export{W as default};
